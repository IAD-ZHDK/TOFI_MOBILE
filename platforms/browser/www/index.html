<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <!--
        Customize this policy to fit your own app's needs. For more guidance, see:
            https://github.com/apache/cordova-plugin-whitelist/blob/master/README.md#content-security-policy
        Some notes:
            * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
            * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
            * Disables use of inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
                * Enable inline JS: add 'unsafe-inline' to default-src

        <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;">
         -->
       <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval' 'unsafe-inline'; worker-src blob:; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
        <meta name="color-scheme" content="light dark">
        <link rel="stylesheet" href="css/index.css">
        <link rel="stylesheet" href="css/onsenui.min.css">
        <link rel="stylesheet" href="css/dark-onsen-css-components.min.css">
        <link rel="stylesheet" href="css/style.css">
        <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
        <title>TOFI</title>
    </head>
    <body>
    <!--<body onload="EntryPoint.splash(4000)">
   <div id="splashscreen">
   </div>  -->
   <div id="app">
   </div>
   <ons-navigator swipeable id="myNavigator" page="statistics.html">
       <ons-page>
       <ons-tabbar swipeable position="auto">
           <!-- <ons-tab page="statistics.html" label="Settings and Statistics" class="stats-icon"></ons-tab> -->
            <ons-tab page="profile.html" label="Settings" icon="icon-equalizer" active-icon="icon-equalizer"></ons-tab>
            <ons-tab page="training.html" label="Training" icon="icon-tofi" active-icon="icon-tofi"></ons-tab>
            <ons-tab page="statistics.html" label="Statistics" icon="icon-stats-bars" active-icon="icon-stats-bars"></ons-tab>
        </ons-tabbar>

        </ons-page>
    </ons-navigator>
        <template id="profile.html">
            <ons-page id="profile">
                <section style="padding: 10px">
                    <ons-button modifier="large" onclick="EntryPoint.pushPage({'id':'canvas.html', 'view':0, 'title':'Sensor Histogram'})" id="push-button-00" >Sensor Histogram</ons-button>
                    <p></p>
                    <ons-button modifier="large" onclick="EntryPoint.pushPage({'id':'canvas.html', 'view':1, 'title':'calibration'})" id="push-button-01" >Calibrate Trainer</ons-button>
                    <p></p>
                    <ons-button modifier="large" onclick="EntryPoint.pushPage({'id':'canvas.html', 'view':4, 'title':'Test Center'})" id="push-button-02" >Test Center</ons-button>
                    <p></p>
                    <ons-button modifier="large" onclick="EntryPoint.connectBLE()" id="push-button-03" >Reconnect to Device</ons-button>
                </section>
            </ons-page>
        </template>
    <template id="training.html">

        <ons-page id="training">
            <ons-card tappable onclick="EntryPoint.pushPage({'id':'canvas.html', 'view':2, 'title':'training'})">
                <div class="title">Sonic Simon</div>
                <div class="content">A simple game for getting to know the TOFI Trainer</div>
            </ons-card>
        <!---
            <ons-card tappable onclick="EntryPoint.pushPage({'id':'canvas.html', 'view':5, 'title':'training'})">
                <div class="title">Medidation</div>
                <div class="content">Free flowing play</div>
            </ons-card>
         ---->
            <ons-card tappable onclick="EntryPoint.pushPage({'id':'canvas.html', 'view':3, 'title':'training'})">
                <div class="title">Sandbox</div>
                <div class="content">A sandbox for trying the TOFI Trainer</div>
            </ons-card>
        </ons-page>
    </template>

        <template id="statistics.html">
            <ons-page>
                <ons-card tappable onclick="EntryPoint.pushPage({'id':'stats.html', 'title':'training'})">
                    <div class="title">Training statistics</div>
                </ons-card>
            </ons-page>
        </template>

    <template id="ble-alert-dialog.html">
        <ons-alert-dialog id="my-alert-dialog" modifier="rowfooter">
            <div class="alert-dialog-title">Alert</div>
            <div class="alert-dialog-content">
                The TOFI trainer is not connected.
            </div>
            <div class="alert-dialog-footer">
                <ons-alert-dialog-button onclick="EntryPoint.connectBLE()">Connect</ons-alert-dialog-button>
                <ons-alert-dialog-button onclick="EntryPoint.hideAlertDialog()">Skip</ons-alert-dialog-button>
            </div>
        </ons-alert-dialog>
    </template>
    <script src="index.bundle.js"></script>
 </body>
</html>
